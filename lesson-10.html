<!DOCTYPE html>
<html>
<head>
	<title>d3js tutorial</title>
	<!-- <script src="https://d3js.org/d3.v4.js"></script> -->
	<script src="d3.v4.js"></script>
</head>
<body>

	<script type="text/javascript">
		
		// d3.json("mydata.json", function (data){

		// 	var canvas = d3.select("body").append("svg")
		// 	.attr("width",500)
		// 	.attr("height",500)
		// 	;

		// 	canvas.selectAll("rect")
		// 	.data(data)
		// 	.enter()
		// 		.append("rect")
		// 		.attr("width", function (d){ return d.age * 10; })
		// 		.attr("height", 48)
		// 		.attr("y", function (d, i){ return i * 50; })
		// 		.attr("fill", "blue")
		// 	;

		// 	canvas.selectAll("text")
		// 	.data(data)
		// 	.enter()
		// 		.append("text")
		// 		.attr("fill", "white")
		// 		.attr("y", function (d, i){ return i * 50 + 30; })
		// 		.attr("x", 10)
		// 		.text(function (d){ return d.name; })
		// });

		d3.csv("mydata.csv", function (data){

			var canvas = d3.select("body").append("svg")
			.attr("width",500)
			.attr("height",500)
			;

			canvas.selectAll("rect")
			.data(data)
			.enter()
				.append("rect")
				// .attr("width", 50)
				// .attr("width", function (d){ return d.age; })
				.attr("width", function (d){ return d.age * 10; })
				.attr("height", 48)
				.attr("y", function (d, i){ return i * 50; })
				.attr("fill", "blue")
			;
			
			canvas.selectAll("text")
			.data(data)
			.enter()
				.append("text")
				.attr("fill", "black")
				.attr("y", function (d, i){ return i * 50 + 30; })
				.attr("x", 10)
				.text(function (d){ return d.name; })
			;

			console.log("data");
			console.log(data);
			console.log(data[0]);
			console.log(data[0].name);
			console.log(data[0].age);
			console.log(typeof data[0].age);
			console.log(typeof data[0].name);

		});

	</script>

</body>
</html>